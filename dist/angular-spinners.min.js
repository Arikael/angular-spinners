angular.module("spinners",[]).factory("spinnerService",function(){var r={};return{_register:function(e){if(r.hasOwnProperty(e.name))throw new Error("A spinner with the name '"+e.name+"' has already been registered.");r[e.name]=e},_unregister:function(e){r.hasOwnProperty(e)&&delete r[e]},_unregisterGroup:function(e){for(var n in r)r[n].group===e&&delete r[n]},_unregisterAll:function(){for(var e in r)delete r[e]},show:function(e){var n=r[e];if(!n)throw new Error("No spinner named '"+e+"' is registered.");n.show()},hide:function(e){var n=r[e];if(!n)throw new Error("No spinner named '"+e+"' is registered.");n.hide()},showGroup:function(e){var n=!1;for(var o in r){var i=r[o];i.group===e&&(i.show(),n=!0)}if(!n)throw new Error("No spinners found with group '"+e+"'.")},hideGroup:function(e){var n=!1;for(var o in r){var i=r[o];i.group===e&&(i.hide(),n=!0)}if(!n)throw new Error("No spinners found with group '"+e+"'.")},showAll:function(){for(var e in r)r[e].show()},hideAll:function(){for(var e in r)r[e].hide()}}}),angular.module("spinners").directive("spinner",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{name:"@",group:"@?",show:"@?",imgSrc:"@?",register:"@?",onRegister:"&?"},template:['<span ng-show="show">','  <img ng-show="imgSrc" src="{{imgSrc}}" />',"  <span ng-transclude></span>","</span>"].join(""),controller:["$scope","spinnerService",function(r,e){if(!r.hasOwnProperty("name"))throw new Error("Spinner must specify a name.");r.hasOwnProperty("register")||(r.register=!0),r.register&&e._register({name:r.name,group:r.group,show:function(){r.show=!0},hide:function(){r.show=!1},toggle:function(){r.show=!r.show}}),r.onRegister({spinnerService:e})}]}});